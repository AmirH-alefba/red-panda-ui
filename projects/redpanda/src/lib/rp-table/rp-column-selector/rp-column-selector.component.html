<div tabindex="-1" class="dropdown" (focusout)="focusOut()">
  <close-icon
    *ngIf="selectedItem.title"
    (click)="removedText()"
    class="absolute w-4 top-2 right-2 fill-gray-600"
  ></close-icon>
  <div
    class="select"
    [ngClass]="{
      'select-clicked': isOpenMenu,
      selectError: inputFormControl.touched && inputFormControl.errors
    }"
    (click)="openMenuClick()"
  >
    <span
      class="placeholder-top"
      *ngIf="(selectedItem | json) != ({} | json)"
      >{{ label }}</span
    >
    <arrow-down-icon
      class="caret fill-secondary-text-color h-6"
      [ngClass]="{ 'caret-rotate': isOpenMenu }"
    ></arrow-down-icon>

    <span
      [ngClass]="[
        label.length > 0 && (selectedItem | json) == ({} | json)
          ? 'placeholder'
          : 'selected'
      ]"
      >{{
        label.length > 0 && (selectedItem | json) == ({} | json)
          ? label
          : selectedItem.title
      }}</span
    >
  </div>
  <ul class="menu" [ngClass]="{ 'menu-open': isOpenMenu }">
    <li
      *ngFor="let item of newItems"
      [ngClass]="{ active: item == selectedItem }"
      (click)="onItemSelect(item, true)"
    >
      {{ item.title }}
    </li>
  </ul>
</div>
