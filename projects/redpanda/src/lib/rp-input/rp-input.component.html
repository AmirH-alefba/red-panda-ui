<div *ngIf="!formControl" class="flex flex-col gap-1 w-full">
  <label *ngIf="label" class="text-sm text-gray-600">{{ label }}</label>

  <input
    [type]="type"
    class="w-full px-3 py-2 border border-blue-300 focus:ring-blue-500 rounded-xl text-sm shadow-sm transition"
    [placeholder]="placeholder"
    [disabled]="disabled"
    [(ngModel)]="value"
    (blur)="onBlur()"
    [ngClass]="{
      'bg-gray-100 text-gray-400 cursor-not-allowed': disabled
    }"
  />
</div>
<div *ngIf="formControl" class="flex flex-col gap-1 w-full">
  <label *ngIf="label" class="text-sm text-gray-600">{{ label }}</label>
  <input
    class="w-full px-3 py-2 border rounded-xl text-sm shadow-sm transition"
    [type]="type"
    [placeholder]="placeholder"
    [formControl]="formControl"
    [disabled]="disabled"
    (blur)="onBlur()"
    [ngClass]="{
      'border-red-500 focus:ring-red-500':
        formControl.invalid && formControl.touched,
      'border-gray-300 focus:ring-blue-500': !(
        formControl.invalid && formControl.touched
      ),
      'border-blue-300 focus:ring-blue-500':
        formControl.valid && formControl.touched,
      'bg-gray-100 text-gray-400 cursor-not-allowed': disabled
    }"
  />

  <div class="text-xs text-red-500 mt-1 h-4">
    <div *ngIf="formControl.invalid && formControl.touched && _errorMessages">
      {{ errorMassage?.message }}
    </div>
  </div>
</div>
